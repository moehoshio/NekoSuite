# tp的错误消息
err_text_tp:
  command: /err_text_tp
  type:
  - RUN_COMMAND
  runcmd:
  - $Script$%if%$arg1==invalid_params
  - $text$&c 参数无效哦! 检查一下输入吧？
  - $Script$%elseif%$arg1==invalid_state
  - $text$&c 无效的状态! 只能是allow或deny。
  - $Script$%elseif%$arg1==tp_denied
  - $text$&c 对方目前禁止被传送。
  - $Script$%elseif%$arg1==invalid_action
  - $text$&c 哎呀，无效的操作。 联络管理员以解决这个问题。
  - $Script$%elseif%$arg1==invalid_target
  - $text$&c 无效的目标! 检查一下输入吧？
  - $Script$%elseif%$arg1==tp_self
  - $text$&c 不能传送到自己哦!
  - $Script$%else$
  - $text$&c 未知错误!
  permission-required: false

tp:
  command: /tp
  type: CALL_URL
  url: http://neko.moe/tp.php?action=tp&user=$player&target=$arg1&x=$arg2&y=$arg3&z=$arg4
  get_output: true
  register: true
  show_output_ingame: false
  get_run_command: $output
  permission-required: true
  permission-node: neko.default.1
  cooldown: 1
  regex_pattern: "^[\u4E00-\u9FA5A-Za-z0-9_&.@\\- ~]+$"
  regex_error_message: "你的输入似乎包含了不允许的字符"

tp_set:
  command: /tp_set
  type:
  - RUN_COMMAND
  runcmd:
  - $Script$%if%$arg1==allow
  - /tp_set_state $player allow
  - $Script$%elseif%$arg1==deny
  - /tp_set_state $player deny
  - $Script$%else%
  - $text$&c 无效的状态! 只能是allow或deny。
  permission-required: true
  permission-node: neko.default.1
  cooldown: 1

# $arg1: 状态 (allow/deny)
tp_set_state:
  command: /tp_set_state
  execute_mode: FROM_ANOTHER_COMMAND
  type: CALL_URL
  url: http://neko.moe/tp.php?action=set_state&user=$arg1&state=$arg2
  get_output: true
  get_run_command: $output
  permission-required: false

tp_config:
  command: /tp_config
  type: CALL_URL
  url: http://neko.moe/tp.php?action=player_config&user=$player&deny_others=$arg1
  get_output: true
  get_run_command: $output
  permission-required: false
  error-message: "&c用法: /tp_config <yes|no>"
  cooldown: 1

tp_admin_config:
  command: /tp_admin_config
  type: CALL_URL
  url: http://neko.moe/tp.php?action=admin_set_config&admin_target=$arg1&canUse=$arg2&canBeTp=$arg3
  get_output: true
  get_run_command: $output
  permission-required: true
  permission-node: neko.admin.tp
  error-message: "&c用法: /tp_admin_config <玩家> <yes|no> <yes|no>"
  cooldown: 1

tp_text:
  command: /tp_text
  type:
  - RUN_COMMAND
  runcmd:
  - $Script$%if%$arg1==set_okay
  - $text$&a 设置成功!
  - $Script$%if%$arg1==set_okay_allow
  - $text$&a 已设置允许被传送!
  - $Script$%if%$arg1==set_okay_deny
  - $text$&a 已设置禁止被传送!
  - $Script$%else%
  - $text$&c 未知讯息!
  permission-required: false

tp_cost:
  command: /tp_cost
  execute_mode: FROM_ANOTHER_COMMAND
  type:
  - RUN_COMMAND
  runcmd: 
  - $Script$%if%$arg1==tpxyz
  - $RUN_CONSOLE$essentials:tp $player $arg2 $arg3 $arg4
  - $Script$%elseif%$arg1==tpxyz_msg
  - $text$&7您似乎在使用原版命令,推荐您使用Neko launcher自动安装游戏或手动查阅帮助文档
  - $RUN_CONSOLE$essentials:tp $player $arg3 $arg4 $arg5
  - $Script$%elseif%$arg1==tp_player
  - $RUN_CONSOLE$essentials:tp $arg2 $arg3
  cost: 10
  permission-required: true
  permission-node: neko.default.1
  success-message: "&7花费 &5%s $"
  error-message: "&7你需要 &5%s $ &7才能使用传送"
