# NekoSuite Strategy Game Configuration
# 貓咪冒險 - 策略遊戲配置

storage:
  data_dir: userdata

game:
  # 起始金幣
  starting_gold: 20
  # 起始生命值
  starting_health: 50
  # 完成遊戲所需的最大階段數
  max_stages: 12
  # 起始戰鬥屬性
  starting_attack: 10
  starting_defense: 5
  starting_magic: 20

# 遊戲事件配置
# type: story (普通劇情), shop (商店), battle (戰鬥)
# weight: 隨機選擇時的基礎權重 (默認10)
# followup_events: 完成此事件後，這些事件的權重會提高
# prerequisite_events: 必須先經過這些事件才能進入
# requirement: 進入事件的條件
#   item: 需要的虛擬物品ID
#   item_amount: 需要的數量 (默認1)
#   gold: 需要持有的最低金幣數
#   gold_cost: 進入時消耗的金幣
#   fail_text: 條件不足時的提示 (使用i18n key)
# choices中的 requirement: 選擇的條件
#   result_alt: 條件不足時的替代結果文字 (使用i18n key)
#   gold_change_alt: 條件不足時的金幣變化
#   health_change_alt: 條件不足時的生命變化
#   item_gain: 選擇後獲得的虛擬物品
#   item_gain_amount: 獲得數量
#   item_cost: 選擇時消耗的虛擬物品
#   item_cost_amount: 消耗數量
# 
# 所有文本字段現在使用i18n key，在語言文件的 sgame.config 下定義

events:
  mysterious_merchant:
    name: "sgame.config.events.mysterious_merchant.name"
    type: story
    weight: 15
    followup_events:
      - traveling_merchant_shop
    description:
      - "sgame.config.events.mysterious_merchant.desc1"
      - "sgame.config.events.mysterious_merchant.desc2"
    choices:
      - text: "sgame.config.events.mysterious_merchant.choice1.text"
        result: "sgame.config.events.mysterious_merchant.choice1.result"
        gold_change: 20
        health_change: 0
        item_gain: merchant_token
        item_gain_amount: 1
      - text: "sgame.config.events.mysterious_merchant.choice2.text"
        result: "sgame.config.events.mysterious_merchant.choice2.result"
        gold_change: 0
        health_change: 0
      - text: "sgame.config.events.mysterious_merchant.choice3.text"
        result: "sgame.config.events.mysterious_merchant.choice3.result"
        gold_change: -30
        health_change: -15

  injured_traveler:
    name: "sgame.config.events.injured_traveler.name"
    type: story
    weight: 12
    followup_events:
      - village_festival
    description:
      - "sgame.config.events.injured_traveler.desc1"
      - "sgame.config.events.injured_traveler.desc2"
    choices:
      - text: "sgame.config.events.injured_traveler.choice1.text"
        result: "sgame.config.events.injured_traveler.choice1.result"
        result_alt: "sgame.config.events.injured_traveler.choice1.result_alt"
        gold_change: 40
        gold_change_alt: 15
        health_change: 0
        health_change_alt: -5
        item_cost: healing_potion
        item_cost_amount: 1
        requirement:
          item: healing_potion
          item_amount: 1
      - text: "sgame.config.events.injured_traveler.choice2.text"
        result: "sgame.config.events.injured_traveler.choice2.result"
        gold_change: 25
        health_change: 0
      - text: "sgame.config.events.injured_traveler.choice3.text"
        result: "sgame.config.events.injured_traveler.choice3.result"
        gold_change: 0
        health_change: 0

  ancient_shrine:
    name: "sgame.config.events.ancient_shrine.name"
    type: story
    weight: 8
    followup_events:
      - secret_vault
    requirement:
      gold: 20
      fail_text: "sgame.config.events.ancient_shrine.fail_text"
    description:
      - "sgame.config.events.ancient_shrine.desc1"
      - "sgame.config.events.ancient_shrine.desc2"
    choices:
      - text: "sgame.config.events.ancient_shrine.choice1.text"
        result: "sgame.config.events.ancient_shrine.choice1.result"
        gold_change: -20
        health_change: 30
        item_gain: blessed_amulet
        item_gain_amount: 1
      - text: "sgame.config.events.ancient_shrine.choice2.text"
        result: "sgame.config.events.ancient_shrine.choice2.result"
        gold_change: 40
        health_change: -10
      - text: "sgame.config.events.ancient_shrine.choice3.text"
        result: "sgame.config.events.ancient_shrine.choice3.result"
        gold_change: 5
        health_change: 5

  forest_crossroads:
    name: "sgame.config.events.forest_crossroads.name"
    type: story
    weight: 12
    description:
      - "sgame.config.events.forest_crossroads.desc1"
      - "sgame.config.events.forest_crossroads.desc2"
    choices:
      - text: "sgame.config.events.forest_crossroads.choice1.text"
        result: "sgame.config.events.forest_crossroads.choice1.result"
        gold_change: 10
        health_change: 0
      - text: "sgame.config.events.forest_crossroads.choice2.text"
        result: "sgame.config.events.forest_crossroads.choice2.result"
        result_alt: "sgame.config.events.forest_crossroads.choice2.result_alt"
        gold_change: 60
        gold_change_alt: 35
        health_change: 0
        health_change_alt: -15
        requirement:
          item: blessed_amulet
          item_amount: 1
      - text: "sgame.config.events.forest_crossroads.choice3.text"
        result: "sgame.config.events.forest_crossroads.choice3.result"
        gold_change: 0
        health_change: 5

  treasure_chest:
    name: "sgame.config.events.treasure_chest.name"
    type: story
    weight: 10
    followup_events:
      - secret_vault
    description:
      - "sgame.config.events.treasure_chest.desc1"
      - "sgame.config.events.treasure_chest.desc2"
    choices:
      - text: "sgame.config.events.treasure_chest.choice1.text"
        result: "sgame.config.events.treasure_chest.choice1.result"
        gold_change: 30
        health_change: 0
        item_gain: treasure_key
        item_gain_amount: 1
      - text: "sgame.config.events.treasure_chest.choice2.text"
        result: "sgame.config.events.treasure_chest.choice2.result"
        gold_change: 50
        health_change: -20
      - text: "sgame.config.events.treasure_chest.choice3.text"
        result: "sgame.config.events.treasure_chest.choice3.result"
        gold_change: 0
        health_change: 0

  village_festival:
    name: "sgame.config.events.village_festival.name"
    type: story
    weight: 10
    description:
      - "sgame.config.events.village_festival.desc1"
      - "sgame.config.events.village_festival.desc2"
    choices:
      - text: "sgame.config.events.village_festival.choice1.text"
        result: "sgame.config.events.village_festival.choice1.result"
        gold_change: -10
        health_change: 20
      - text: "sgame.config.events.village_festival.choice2.text"
        result: "sgame.config.events.village_festival.choice2.result"
        gold_change: 25
        health_change: 0
        item_gain: performer_badge
        item_gain_amount: 1
      - text: "sgame.config.events.village_festival.choice3.text"
        result: "sgame.config.events.village_festival.choice3.result"
        gold_change: 0
        health_change: -5

  secret_vault:
    name: "sgame.config.events.secret_vault.name"
    type: story
    weight: 5
    prerequisite_events:
      - treasure_chest
    requirement:
      item: treasure_key
      item_amount: 1
      fail_text: "sgame.config.events.secret_vault.fail_text"
    description:
      - "sgame.config.events.secret_vault.desc1"
      - "sgame.config.events.secret_vault.desc2"
    choices:
      - text: "sgame.config.events.secret_vault.choice1.text"
        result: "sgame.config.events.secret_vault.choice1.result"
        gold_change: 100
        health_change: 0
        item_cost: treasure_key
        item_cost_amount: 1
      - text: "sgame.config.events.secret_vault.choice2.text"
        result: "sgame.config.events.secret_vault.choice2.result"
        gold_change: 0
        health_change: 0

  traveling_merchant_shop:
    name: "sgame.config.events.traveling_merchant_shop.name"
    type: shop
    weight: 8
    prerequisite_events:
      - mysterious_merchant
    requirement:
      item: merchant_token
      item_amount: 1
      fail_text: "sgame.config.events.traveling_merchant_shop.fail_text"
    description:
      - "sgame.config.events.traveling_merchant_shop.desc1"
      - "sgame.config.events.traveling_merchant_shop.desc2"
    choices:
      - text: "sgame.config.events.traveling_merchant_shop.choice1.text"
        result: "sgame.config.events.traveling_merchant_shop.choice1.result"
        gold_change: 0
        health_change: 0

  monster_ambush:
    name: "sgame.config.events.monster_ambush.name"
    type: battle
    weight: 12
    description:
      - "sgame.config.events.monster_ambush.desc1"
      - "sgame.config.events.monster_ambush.desc2"
    choices:
      - text: "sgame.config.events.monster_ambush.choice1.text"
        result: "sgame.config.events.monster_ambush.choice1.result"
        gold_change: 0
        health_change: 0

  blacksmith_shop:
    name: "sgame.config.events.blacksmith_shop.name"
    type: shop
    weight: 8
    description:
      - "sgame.config.events.blacksmith_shop.desc1"
      - "sgame.config.events.blacksmith_shop.desc2"
    choices:
      - text: "sgame.config.events.blacksmith_shop.choice1.text"
        result: "sgame.config.events.blacksmith_shop.choice1.result"
        gold_change: 0
        health_change: 0

# 商店物品配置
shop:
  items:
    - id: small_potion
      name: "sgame.config.shop.small_potion.name"
      price: 20
      material: POTION
      effect_type: heal
      effect_value: 25
      effect_description: "sgame.config.shop.small_potion.effect"
    - id: large_potion
      name: "sgame.config.shop.large_potion.name"
      price: 45
      material: SPLASH_POTION
      effect_type: heal
      effect_value: 50
      effect_description: "sgame.config.shop.large_potion.effect"
    - id: health_upgrade
      name: "sgame.config.shop.health_upgrade.name"
      price: 80
      material: GOLDEN_APPLE
      effect_type: max_health
      effect_value: 20
      effect_description: "sgame.config.shop.health_upgrade.effect"
    - id: lucky_coin
      name: "sgame.config.shop.lucky_coin.name"
      price: 30
      material: GOLD_NUGGET
      effect_type: heal
      effect_value: 10
      effect_description: "sgame.config.shop.lucky_coin.effect"
    - id: healing_potion
      name: "sgame.config.shop.healing_potion.name"
      price: 25
      material: LINGERING_POTION
      effect_type: item
      effect_value: 1
      effect_description: "sgame.config.shop.healing_potion.effect"

# 裝備配置
# slot: weapon (武器), armor (護甲), accessory (飾品)
equipment:
  items:
    - id: iron_sword
      name: "sgame.config.equipment.iron_sword.name"
      slot: weapon
      price: 50
      material: IRON_SWORD
      attack_bonus: 5
      defense_bonus: 0
      health_bonus: 0
      magic_bonus: 0
    - id: steel_sword
      name: "sgame.config.equipment.steel_sword.name"
      slot: weapon
      price: 100
      material: DIAMOND_SWORD
      attack_bonus: 12
      defense_bonus: 0
      health_bonus: 0
      magic_bonus: 0
    - id: leather_armor
      name: "sgame.config.equipment.leather_armor.name"
      slot: armor
      price: 40
      material: LEATHER_CHESTPLATE
      attack_bonus: 0
      defense_bonus: 3
      health_bonus: 10
      magic_bonus: 0
    - id: iron_armor
      name: "sgame.config.equipment.iron_armor.name"
      slot: armor
      price: 80
      material: IRON_CHESTPLATE
      attack_bonus: 0
      defense_bonus: 8
      health_bonus: 20
      magic_bonus: 0
    - id: magic_ring
      name: "sgame.config.equipment.magic_ring.name"
      slot: accessory
      price: 60
      material: GOLD_INGOT
      attack_bonus: 2
      defense_bonus: 2
      health_bonus: 0
      magic_bonus: 10
    - id: amulet_of_protection
      name: "sgame.config.equipment.amulet_of_protection.name"
      slot: accessory
      price: 75
      material: EMERALD
      attack_bonus: 0
      defense_bonus: 5
      health_bonus: 15
      magic_bonus: 5

# 戰鬥敵人配置
# 新增: attack, defense, magic 屬性用於戰鬥計算
battles:
  enemies:
    - id: slime
      name: "sgame.config.enemies.slime.name"
      description: "sgame.config.enemies.slime.desc"
      power: 20
      damage: 8
      health: 30
      attack: 5
      defense: 2
      magic: 0
      gold_reward: 15
      min_stage: 0
    - id: skeleton
      name: "sgame.config.enemies.skeleton.name"
      description: "sgame.config.enemies.skeleton.desc"
      power: 35
      damage: 12
      health: 40
      attack: 10
      defense: 3
      magic: 0
      gold_reward: 25
      min_stage: 2
    - id: zombie
      name: "sgame.config.enemies.zombie.name"
      description: "sgame.config.enemies.zombie.desc"
      power: 40
      damage: 15
      health: 60
      attack: 12
      defense: 8
      magic: 0
      gold_reward: 30
      min_stage: 3
    - id: spider
      name: "sgame.config.enemies.spider.name"
      description: "sgame.config.enemies.spider.desc"
      power: 45
      damage: 18
      health: 45
      attack: 15
      defense: 5
      magic: 0
      gold_reward: 35
      min_stage: 4
    - id: witch
      name: "sgame.config.enemies.witch.name"
      description: "sgame.config.enemies.witch.desc"
      power: 55
      damage: 22
      health: 35
      attack: 8
      defense: 3
      magic: 20
      gold_reward: 45
      min_stage: 5
    - id: dark_knight
      name: "sgame.config.enemies.dark_knight.name"
      description: "sgame.config.enemies.dark_knight.desc"
      power: 70
      damage: 28
      health: 80
      attack: 20
      defense: 15
      magic: 5
      gold_reward: 60
      min_stage: 7
    - id: dragon
      name: "sgame.config.enemies.dragon.name"
      description: "sgame.config.enemies.dragon.desc"
      power: 90
      damage: 35
      health: 120
      attack: 30
      defense: 20
      magic: 25
      gold_reward: 100
      min_stage: 9

# 結束獎勵配置 (根據分數發放真實獎勵)
end_rewards:
  - name: "sgame.config.rewards.novice.name"
    min_score: 100
    commands:
      - "minecraft:give {player} minecraft:iron_ingot 5"
  - name: "sgame.config.rewards.adventurer.name"
    min_score: 300
    commands:
      - "minecraft:give {player} minecraft:gold_ingot 3"
  - name: "sgame.config.rewards.veteran.name"
    min_score: 500
    commands:
      - "minecraft:give {player} minecraft:diamond 2"
  - name: "sgame.config.rewards.legendary.name"
    min_score: 800
    commands:
      - "minecraft:give {player} minecraft:emerald 5"
  - name: "sgame.config.rewards.king.name"
    min_score: 1000
    commands:
      - "minecraft:give {player} minecraft:netherite_ingot 1"
